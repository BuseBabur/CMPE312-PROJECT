<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MyFilmList</title>
    <link rel="stylesheet" href="/css/style.css" />
    <style>
      /* Modal styles */
      .modal {
        display: none;
        position: fixed;
        z-index: 9999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.5);
        /* overflow: visible; preventing the scroll but shows up halfly*/
        overflow: auto;
      }

      .modal-content {
        background-color: #111;
        margin: 10% auto;
        padding: 20px;
        border-radius: 5px;
        max-width: 600px;
        color: #fff;
        position: relative;
      }

      .close {
        position: absolute;
        top: 10px;
        right: 20px;
        color: #fff;
        font-size: 20px;
        cursor: pointer;
      }

      .close:hover {
        color: #ccc;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>MyFilmList</h1>
      <nav>
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">My Lists</a></li>
          <li><a href="#">Watch Later</a></li>
          <li><a href="#">Blog</a></li>
          <li><a href="#">Friends</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section class="get-started">
        <h2>Get Started</h2>
        <p>
          Track the films you've watched, create watchlists, and read reviews.
        </p>
        <a href="#" class="btn-signup">Sign Up</a>
      </section>

      <section class="film-list">
        <h2>Recently Released</h2>
        <div class="film-row">
          <div class="film" onclick="openModal('potc')">
            <img
              src="/img/carib.jpg"
              alt="Pirates of the Caribbean: Dead Men Tell No Tales"
            />
            <h3>Pirates of the Caribbean: Dead Men Tell No Tales</h3>
            <div class="add-buttons">
              <button class="watched-btn" onclick="toggleButton(event)">
                Watched
              </button>
              <button class="watch-later-btn" onclick="toggleButton(event)">
                Watch Later
              </button>
            </div>
          </div>

          <div class="film" onclick="openModal('dune2')">
            <img src="/img/dune.jpg" alt="Dune 2" />
            <h3>Dune: Part Two</h3>
            <div class="add-buttons">
              <button class="watched-btn" onclick="toggleButton(event)">
                Watched
              </button>
              <button class="watch-later-btn" onclick="toggleButton(event)">
                Watch Later
              </button>
            </div>
          </div>

          <div class="film" onclick="openModal('babyd')">
            <img src="/img/baby-driver.jpg" alt="Baby Driver" />
            <h3>Baby Driver</h3>
            <div class="add-buttons">
              <button class="watched-btn" onclick="toggleButton(event)">
                Watched
              </button>
              <button class="watch-later-btn" onclick="toggleButton(event)">
                Watch Later
              </button>
            </div>
          </div>

          <div class="film" onclick="openModal('ant')">
            <img src="/img/antman.jpg" alt="Antman" />
            <h3>Ant-man</h3>
            <div class="add-buttons">
              <button class="watched-btn" onclick="toggleButton(event)">
                Watched
              </button>
              <button class="watch-later-btn" onclick="toggleButton(event)">
                Watch Later
              </button>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <p>&copy; 2024 MyFilmList</p>
    </footer>

    <!-- Modal -->
    <div id="myModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2 id="modal-title">Film Title</h2>
        <div class="video-container">
          <!-- Embedded YouTube video for trailer -->
          <iframe
            id="trailer-video"
            width="560"
            height="315"
            src=""
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          ></iframe>
        </div>
        <p><strong>Year:</strong> <span id="modal-year">Year</span></p>
        <p>
          <strong>Director:</strong> <span id="modal-director">Director</span>
        </p>
        <p><strong>Ratings:</strong> <span id="modal-ratings">Ratings</span></p>
        <p>
          <strong>Description:</strong>
          <span id="modal-description">Description</span>
        </p>
      </div>
    </div>

    <script>
      function openModal(filmId) {
        var modal = document.getElementById("myModal");
        var title = document.getElementById("modal-title");
        var year = document.getElementById("modal-year");
        var director = document.getElementById("modal-director");
        var ratings = document.getElementById("modal-ratings");
        var description = document.getElementById("modal-description");
        var trailerVideo = document.getElementById("trailer-video");

        // Assuming you have an object or database containing film details
        var filmDetails = getFilmDetailsById(filmId);

        // Populate modal with film details
        title.innerHTML = filmDetails.title;
        year.innerHTML = filmDetails.year;
        director.innerHTML = filmDetails.director;
        ratings.innerHTML = filmDetails.ratings;
        description.innerHTML = filmDetails.description;

        trailerVideo.src =
          "https://www.youtube.com/embed/" + filmDetails.trailerId;

        modal.style.display = "block";
      }

      function getFilmDetailsById(filmId) {
        if (filmId === "potc") {
          return {
            title: "Pirates of the Caribbean: Dead Men Tell No Tales",
            year: "2017",
            director: "Joachim Rønning & Espen Sandberg",
            ratings: "6.5/10",
            description:
              "Captain Jack Sparrow (Johnny Depp) finds the winds of ill-fortune blowing even more strongly when deadly ghost pirates led by his old nemesis, the terrifying Captain Salazar (Javier Bardem), escape from the Devil's Triangle, determined to kill every pirate at sea...including him. Captain Jack's only hope of survival lies in seeking out the legendary Trident of Poseidon, a powerful artifact that bestows upon its possessor total control over the seas.",
            trailerId: "Hgeu5rhoxxY",
          };
        } else if (filmId === "dune2") {
          return {
            title: "Dune: Part Two",
            year: "2024",
            director: "Denis Villeneuve",
            ratings: "8.9/10",
            description:
              "Paul Atreides unites with Chani and the Fremen while on a warpath of revenge against the conspirators who destroyed his family. Facing a choice between the love of his life and the fate of the known universe, he endeavors to prevent a terrible future only he can foresee.",
            trailerId: "Way9Dexny3w",
          };
        } else if (filmId === "babyd") {
          return {
            title: "Baby Driver",
            year: "2017",
            director: "Edgar Wright",
            ratings: "7.5/10",
            description:
              "Baby is a young and partially hearing impaired getaway driver who can make any wild move while in motion with the right track playing. It's a critical talent he needs to survive his indentured servitude to the crime boss, Doc, who values his role in his meticulously planned robberies. However, just when Baby thinks he is finally free and clear to have his own life with his new girlfriend, Debora, Doc coerces him back for another job.",
            trailerId: "zTvJJnoWIPk",
          };
        } else if (filmId === "ant") {
          return {
            title: "Ant-man",
            year: "2015",
            director: "Peyton Reed",
            ratings: "7.2/10",
            description:
              "Armed with the astonishing ability to shrink in scale but increase in strength, con-man Scott Lang must embrace his inner-hero and help his mentor, Dr. Hank Pym, protect the secret behind his spectacular Ant-Man suit from a new generation of towering threats. Against seemingly insurmountable obstacles, Pym and Lang must plan and pull off a heist that will save the world.",
            trailerId: "pWdKf3MneyI",
          };
        } else {
          return null; // Handle other cases or return null if film not found
        }
      }

      function closeModal() {
        var modal = document.getElementById("myModal");
        modal.style.display = "none";
      }

      // Close the modal when clicking outside of it
      window.onclick = function (event) {
        var modal = document.getElementById("myModal");
        if (event.target == modal) {
          modal.style.display = "none";
        }
      };

      // tuşlar üst üste binmesin diye
      function toggleButton(event) {
        event.stopPropagation(); // Stop event propagation to prevent opening the modal
        var button = event.target;
        if (button.classList.contains("added")) {
          button.classList.remove("added");
          button.innerText = button.innerText.replace(" Added", "");
        } else {
          button.classList.add("added");
          button.innerText += " Added";
        }
      }
    </script>
  </body>
</html>
